// Version: 1.4

syntax = "proto3";
import "version.proto";
import "utils.proto";
import "motor.proto";
import "geometry.proto";

message JointAngleData {
	float swivel_single = 1;
	float shoulder_single = 2;
	float elbow_single = 3;
	float roll_single = 4;
	float wrist_pitch_single = 5;

	float swivel_multi = 6;
	float shoulder_multi = 7;
	float elbow_multi = 8;
	float roll_multi = 9;
	float wrist_pitch_multi = 10;
}

message WristData {
  // Virtual joint state (what the subsystem thinks pitch/roll are).
  float pitch_angle = 1;
  float roll_angle  = 2;

  MotorData motorA = 3;
  MotorData motorB = 4;

  // Overall health/status flags
  BoolState is_moving = 5;
  BoolState is_calibrated = 6;

  Version version = 7;
}

message ArmData {
	// Arm Commands
	reserved 1, 2;

	Pose3d current_pose = 17;
	Pose3d target_pose = 18;

	MotorData base = 3;
	MotorData shoulder = 4;
	MotorData elbow = 5;
	MotorData roll = 13;

	Version version = 6;

	//USS data 
 	float uss_distance = 7;

	// Gripper Commands
	MotorData lift = 8;
	MotorData rotate = 9;
	WristData wrist = 15;
	MotorData pinch = 10;

	int32 servo_angle = 11;
	BoolState laser_state = 12;
	JointAngleData joint_angles = 14;

	BoolState using_ik = 16;
}

message WristCommand {
  // General commands for wrist
  bool stop = 1;
  bool calibrate = 2;

  // Virtual joints (preferred): command the coupled wrist DOFs.
  // Firmware may execute one axis at a time for mechanical safety.
  MotorCommand pitch = 3;
  MotorCommand roll  = 4;

  Version version = 5;
}

message ArmCommand {
	// General commands for arm
	bool stop = 1;
	bool calibrate = 2;

	// Move individual motors
	MotorCommand swivel = 3;
	MotorCommand shoulder = 4;
	MotorCommand elbow = 5;
	MotorCommand roll = 21;

	reserved 6;

	reserved 7 to 9;
	Pose3d ik_pose = 24;

	// Custom actions
	bool jab = 10;

	Version version = 11;
	
	// USS commands
 	BoolState start_uss = 12; 
	
	// Move individual motors
	reserved 13;
	MotorCommand rotate = 14;
	WristCommand wrist = 22;
	MotorCommand pinch = 15;

	// Custom actions
	bool open = 16;
	bool close = 17;
	bool spin = 18;

	int32 servo_angle = 19;
	BoolState laser_state = 20;

	BoolState using_ik = 23;
}
