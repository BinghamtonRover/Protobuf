// Version: 2.1

syntax = "proto3";

import "geometry.proto";

enum DetectedObjectType {
	DETECTION_TYPE_UNDEFINED = 0;
	ARUCO = 1;
	HAMMER = 2;
	BOTTLE = 3;
	ROCK_HAMMER = 4;
}

message PnpResult {
	Pose3d camera_to_target = 1;
	double reprojection_error = 2;
}

message DetectedObject {
	// What was detected
	DetectedObjectType object_type = 1;
	int32 aruco_tag_id = 2;

	// Where it was detected
	float x_position = 4;  // -1 to +1 (left to right)
	float relative_size = 5;  // 0 to 1 (percent of frame)

	int32 center_x = 6;
	int32 center_y = 7;

	// Experimental: Use pinhole camera model to find the object's position
	float yaw = 8;
	float pitch = 9;

	// Experimental: Use PnP to determine the 3D pose
	PnpResult best_pnp_result = 10;
	PnpResult alternate_pnp_result = 11;
}
